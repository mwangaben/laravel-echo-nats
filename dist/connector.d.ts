import { NatsEchoOptions, AuthResponse } from './types';
import { Channel, PrivateChannel, EncryptedPrivateChannel } from './channel';
import { PresenceChannel } from './presence-channel';
interface LaravelEchoConnector {
    connect(): Promise<void>;
    disconnect(): void;
    listen(channel: string, event: string, callback: Function): any;
    channel(name: string): any;
    privateChannel(name: string): any;
    join(name: string): any;
    leave(name: string): void;
    socketId(): string;
    on(event: string, handler: Function): void;
    off(event: string, handler?: Function): void;
}
export declare class NatsConnector implements LaravelEchoConnector {
    private ws;
    private eventFormatter;
    private channels;
    private subscriptions;
    private eventHandlers;
    private reconnectTimer;
    private reconnectAttempts;
    private socketIdentifier;
    private axios;
    private isConnecting;
    private connectionPromise;
    private pingInterval;
    private serverInfo;
    private connected;
    private partialMessage;
    private pendingData;
    private bytesExpected;
    connector: any;
    options: NatsEchoOptions;
    constructor(options?: NatsEchoOptions);
    private normalizeOptions;
    private setupAxiosInterceptors;
    private generateSocketId;
    private buildWebSocketUrl;
    connect(): Promise<void>;
    private handleNatsMessage;
    private processNatsMessage;
    private handleMsgHeader;
    private handleCompleteMessage;
    private handleTextInfoMessage;
    private handleTextErrorMessage;
    private handlePing;
    private handleOkMessage;
    private startPingInterval;
    private cleanupConnection;
    private sendRawToNats;
    private sendToNats;
    private scheduleReconnect;
    private handleBroadcastEvent;
    private resubscribeAll;
    private sendSubscribe;
    authenticatePrivateChannel(channelName: string): Promise<AuthResponse>;
    listen(channelName: string, event: string, callback: Function): Channel;
    channel(channelName: string): Channel;
    privateChannel(channelName: string): PrivateChannel;
    encryptedPrivateChannel(channelName: string): EncryptedPrivateChannel;
    join(channelName: string): PresenceChannel;
    leave(channelName: string): void;
    notification(userId: string | number): Channel;
    socketId(): string;
    isConnected(): boolean;
    disconnect(): void;
    on(event: string, handler: Function): void;
    off(event: string, handler?: Function): void;
    private trigger;
    subscribeChannel(channel: Channel): Promise<void>;
    unsubscribeChannel(channel: Channel): void;
    send(subject: string, data: any): void;
    getConfig(): NatsEchoOptions;
    static asBroadcaster(): any;
}
export {};
